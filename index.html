      <!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Catálogo Scroll Infinito</title>
  <style>
    body {
      margin: 0; background: #111; color: #eee; font-family: Arial, sans-serif;
      display: flex; flex-direction: column; height: 100vh;
    }
    header {
      background: #222; padding: 8px; border-bottom: 1px solid #333;
      display: flex; flex-wrap: wrap; gap: 6px; align-items: center;
      position: sticky; top: 0; z-index: 10;
    }
    input, select {
      padding: 6px; font-size: 14px; border-radius: 4px; border: 1px solid #444;
      background: #181818; color: #eee;
    }
    #info { font-size: 13px; margin-left: auto; }
    .content {
      flex: 1; overflow-y: auto; padding: 10px;
    }
    .grid {
      display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px;
    }
    .card {
      background: #2a2a2a; border-radius: 6px; padding: 6px; text-align: center;
      font-size: 12px;
    }
    .card img { width: 100%; border-radius: 4px; margin-bottom: 4px; }
    footer {
      background: #222; padding: 8px; border-top: 1px solid #333;
      display: flex; align-items: center; justify-content: center; gap: 6px;
    }
    footer input { width: 50px; text-align: center; }
  </style>
</head>
<body>

<header>
  <input id="q" type="text" placeholder="Buscar...">
  <select id="orden">
    <option value="">Ordenar</option>
    <option value="nombre-asc">Nombre A–Z</option>
    <option value="nombre-desc">Nombre Z–A</option>
    <option value="fecha-asc">Fecha ↑</option>
    <option value="fecha-desc">Fecha ↓</option>
  </select>
  <div id="info"></div>
</header>

<div class="content" id="content">
  <div id="grid" class="grid"></div>
</div>

<footer>
  <span>Página</span>
  <input type="number" id="goto" min="1" value="1">
  <span id="totalPages"></span>
</footer>

<script>
  // Portadas simples (SVG embebidos)
  function cover(i,label){
    return `data:image/svg+xml,`+encodeURIComponent(
      `<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 140'>
        <rect width='100' height='140' fill='hsl(${i*36},60%,40%)'/>
        <text x='50%' y='50%' dominant-baseline='middle' text-anchor='middle'
          font-size='20' fill='white'>${label}</text>
      </svg>`
    );
  }

  // Generar datos
  const juegos=[];
  for(let i=1;i<=500; i++){ // 500 para probar
    juegos.push({
      id:i,
      nombre:"Juego "+i,
      anio:2000+(i%25),
      portada:cover(i%10,"J"+i)
    });
  }

  let resultados=[...juegos];
  const porPagina=6;
  let cargadas=0; // cuántas carátulas se han renderizado

  const grid=document.getElementById("grid");
  const info=document.getElementById("info");
  const totalPages=document.getElementById("totalPages");
  const goto=document.getElementById("goto");
  const content=document.getElementById("content");

  function renderMas(){
    const start=cargadas;
    const page=resultados.slice(start,start+porPagina);
    page.forEach(j=>{
      const div=document.createElement("div");
      div.className="card";
      div.innerHTML=`<img src="${j.portada}"><div>${j.nombre}</div><div>${j.anio}</div>`;
      grid.appendChild(div);
    });
    cargadas+=page.length;
    actualizarInfo();
  }

  function actualizarInfo(){
    const paginaActual=Math.ceil(cargadas/porPagina);
    const max=Math.max(1,Math.ceil(resultados.length/porPagina));
    info.textContent=`${resultados.length} juegos · Página ${paginaActual}/${max}`;
    totalPages.textContent=`de ${max}`;
    goto.max=max;
  }

  // Scroll infinito
  content.addEventListener("scroll",()=>{
    if(content.scrollTop+content.clientHeight>=content.scrollHeight-10){
      if(cargadas<resultados.length){
        renderMas();
      }
    }
  });

  // Buscar
  document.getElementById("q").addEventListener("input",e=>{
    const t=e.target.value.toLowerCase();
    resultados=juegos.filter(j=>j.nombre.toLowerCase().includes(t));
    grid.innerHTML=""; cargadas=0; renderMas();
  });

  // Ordenar
  document.getElementById("orden").addEventListener("change",e=>{
    switch(e.target.value){
      case "nombre-asc": resultados.sort((a,b)=>a.nombre.localeCompare(b.nombre)); break;
      case "nombre-desc": resultados.sort((a,b)=>b.nombre.localeCompare(a.nombre)); break;
      case "fecha-asc": resultados.sort((a,b)=>a.anio-b.anio); break;
      case "fecha-desc": resultados.sort((a,b)=>b.anio-a.anio); break;
    }
    grid.innerHTML=""; cargadas=0; renderMas();
  });

  // Ir a página concreta
  goto.addEventListener("change",()=>{
    const val=parseInt(goto.value);
    const max=Math.ceil(resultados.length/porPagina);
    if(val>=1 && val<=max){
      grid.innerHTML="";
      cargadas=val*porPagina;
      const slice=resultados.slice(0,cargadas);
      slice.forEach(j=>{
        const div=document.createElement("div");
        div.className="card";
        div.innerHTML=`<img src="${j.portada}"><div>${j.nombre}</div><div>${j.anio}</div>`;
        grid.appendChild(div);
      });
      actualizarInfo();
      content.scrollTop=0;
    }
  });

  // Inicial
  renderMas();
</script>
</body>
</html>
